# Default values for helmchecker
# This is a YAML-formatted file.

# Image configuration
image:
  repository: helmchecker
  tag: latest
  pullPolicy: Always

# Image pull secrets (if needed for private registry)
imagePullSecrets: []

# CronJob configuration
cronjob:
  # Schedule in cron format (default: every day at 2 AM)
  schedule: "0 2 * * *"
  # Time zone for the cron schedule
  timeZone: "UTC"
  # Number of successful finished jobs to retain
  successfulJobsHistoryLimit: 3
  # Number of failed finished jobs to retain
  failedJobsHistoryLimit: 1
  # Deadline for starting the job if it misses its scheduled time
  startingDeadlineSeconds: 300
  # Concurrency policy: Allow, Forbid, Replace
  concurrencyPolicy: Forbid
  # Whether to suspend the cron job
  suspend: false

# Pod configuration
pod:
  # Restart policy for the pod
  restartPolicy: OnFailure
  # Security context for the pod
  securityContext:
    runAsNonRoot: true
    runAsUser: 65534
    runAsGroup: 65534
    fsGroup: 65534
  # Node selector for pod scheduling
  nodeSelector: {}
  # Tolerations for pod scheduling
  tolerations: []
  # Affinity rules for pod scheduling
  affinity: {}

# Container configuration
container:
  # Security context for the container
  securityContext:
    allowPrivilegeEscalation: false
    readOnlyRootFilesystem: true
    capabilities:
      drop:
        - ALL
  # Resource limits and requests
  resources:
    limits:
      cpu: 500m
      memory: 512Mi
    requests:
      cpu: 100m
      memory: 128Mi

# Configuration
config:
  # Kubernetes configuration
  kubernetes:
    # Namespace to check for Helm releases (empty for all namespaces)
    namespace: ""

  # Git configuration
  git:
    # Git repository URL (e.g., https://github.com/owner/repo.git)
    repository: ""
    # Git username
    username: "helmchecker"
    # Git email
    email: "helmchecker@example.com"
    # Base branch to create PRs against
    branch: "main"

  # GitHub configuration
  github:
    # GitHub repository owner
    owner: ""
    # GitHub repository name
    repo: ""

  # Checker configuration
  checker:
    # Dry run mode (only log what would be updated)
    dryRun: false
    # Charts to exclude from checking (list)
    excludeCharts: []
    # Charts to include in checking (empty list means all charts)
    includeCharts: []
    # Whether to check pre-release versions
    checkPrerelease: false
    # Commit message template (%s will be replaced with chart name and version)
    commitMessage: "chore: update helm chart %s to version %s"
    # Pull request title template
    pullRequestTitle: "Update Helm chart %s to version %s"
    # Pull request body template
    pullRequestBody: |
      This PR updates the Helm chart %s from version %s to %s.

      **Changes:**
      - Updated chart version
      - Updated application version (if applicable)

      **Testing:**
      - [ ] Chart linting passed
      - [ ] Deployment tested in staging

      Generated by helmchecker ðŸ¤–

# Secrets configuration
secrets:
  # GitHub token for API access and creating pull requests
  githubToken: ""
  # Git token for repository access (if different from GitHub token)
  gitToken: ""

# Service account configuration
serviceAccount:
  # Whether to create a service account
  create: true
  # Name of the service account (if not set, a name is generated)
  name: ""
  # Annotations for the service account
  annotations: {}

# RBAC configuration
rbac:
  # Whether to create RBAC resources
  create: true
  # Additional rules for the ClusterRole
  additionalRules: []

# Additional environment variables
extraEnv: []

# Additional volumes
extraVolumes: []

# Additional volume mounts
extraVolumeMounts: []